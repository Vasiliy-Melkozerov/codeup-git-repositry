<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather in SA</title>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet'/>
    <style>
        #map {
            width: 100%;
            height: 700px;
        }
    </style>
</head>
<body>
<h1>This is my weather project</h1>
<h2 id="searchedLocation"></h2>
<main>
<!--    weather is currently being commented out as i am trying to place my specific values in managable locations-->
<!--    <div id="weather"></div>-->
    <div id="box1">
        <span id="high1">high1</span>
        <span id="low1">low1</span>
        <span id='cloud1'>cloud1</span>
        <span id="humidity1">humidity1</span>
        <span id="wind1">wind1</span>
        <span id="pressure1">pressure1</span>
    </div>
    <div id="box2">
        <span id="high2"></span>
        <span id="low2"></span>
        <span id='cloud2'></span>
        <span id="humidity2"></span>
        <span id="wind2"></span>
        <span id="pressure2"></span>
    </div>
    <div id="box3">
        <span id="high3"></span>
        <span id="low3"></span>
        <span id='cloud3'></span>
        <span id="humidity3"></span>
        <span id="wind3"></span>
        <span id="pressure3"></span></div>
    <div id="map"></div>
<!--    I just finished setting each div its own spans so i can specifically place what i want into those accurately-->
</main>
<script src="js/keys.js"></script>
<script src="js/jquery-2.2.4.js"></script>
<script>
    $.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/" + darkSkyKey + "/29.4241,-98.4936").done(function (data) {
        console.log(data);
        // Also you can pass info from one function into another as I've just learned!
        processData(data.daily.data);
        // The time in daily represents today and a week out, as i've just learned
        var dateObject = new Date(data.currently.time * 1000);
        console.log(dateObject.toString());
        // this here being a part of the weather div i mentioned earlier
        // $('#weather').append(data.currently.summary);
        // $('#weather').append('<br>');
        // $('#weather').append(dateObject);
    });
    function processData(data){
        console.log(data);
        var htmlString = "";
        // htmlString += '<p>' + data[0].apparentTemperatureHigh + '</p>';
        // htmlString += '<hr>';
        // htmlString += '<p>' + data[1].apparentTemperatureHigh + '</p>';
        // htmlString += '<hr>';
        // htmlString += '<p>' + data[2].apparentTemperatureHigh + '</p>';
        // htmlString += '<hr>';
        data.forEach(function (daily, index) {
        //Just learned how to use forEach loop in example
        //learned here how to implement if statement to deliver just the three value i am looking for in my array
            if (index <= 2 ) {
                htmlString += '<p>' + daily.apparentTemperatureHigh + ('&deg; F') + '</p>';
                htmlString += '<hr>';
            // } else if (index === 0){
            //     $('#high1').append(daily.apparentTemperatureHigh);
            }
        });
        $('#box1').append(htmlString);
    }
                // TODO:Now i just need to get the values and plug them into their respective fields
    //I am thinking about independently writing out variables in the form of functions so that i can call specific items
    //The items specifically needed are highs(apparentTemperatureHigh)/lows(apparentTemperatureLow)
    // (icon reflective of weather conditions: OF WHICH there is already a data set for called icons specifically),
    // weather conditions (summary), humidity(humidity), wind(windSpeed), and pressure(pressure)

</script>
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
<!--IT WORKED I GOT THE MAPBOX IN HERE-->
<!--now time to figure out how to use a marker, or first setting up the spacing how i want to give me the squares first-->
<script>
    mapboxgl.accessToken = mapboxToken;
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v9',
        zoom: 5,
        center: [-98.4916, 29.4252]
    });

    var accessToken = mapboxToken;

    mapboxgl.accessToken = accessToken;

</script>
</body>
</html>